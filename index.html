<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Se celebra nuestro 1er aniversario de la empresa, y ofertamos un 50% de descuento en todos nuestros planes CHP. Oferta v√°lida hasta el 15 de julio.">
    <title>Aniversario De CBO.com</title>
    
    <!-- Favicon optimizado -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%2300f7ff'/><circle cx='30' cy='30' r='15' fill='%23ff00f7'/><circle cx='70' cy='70' r='15' fill='%23ff5500'/><text x='50' y='60' font-size='40' text-anchor='middle' fill='%230a0a20'>üéâ</text></svg>">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0a0a20">
    
    <!-- Precarga de fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- CSS optimizado -->
    <style>
        :root {
            --primary: #00f7ff;
            --secondary: #ff00f7;
            --dark: #0a0a20;
            --light: #e0f8ff;
            --accent: #ff5500;
            --error: #ff3333;
            --success: #33ff88;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .logo {
            font-size: clamp(2.5rem, 8vw, 4rem);
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 1rem;
        }
        
        .title {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--light), #ffffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .promo-card {
            background: rgba(10, 10, 32, 0.7);
            border-radius: 20px;
            padding: clamp(1.5rem, 5vw, 3rem);
            margin: 2rem 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 247, 255, 0.2);
        }
        
        .highlight {
            font-weight: 600;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .accent-text {
            color: var(--accent);
            font-weight: 700;
        }
        
        .countdown-timer {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 700;
            color: var(--accent);
            background: rgba(255, 85, 0, 0.1);
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            border: 1px solid var(--accent);
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .benefit-card {
            background: rgba(0, 247, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 247, 255, 0.1);
        }
        
        .cta-button {
            display: block;
            width: clamp(250px, 80%, 300px);
            margin: 3rem auto;
            padding: 1rem 1.5rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: var(--dark);
            text-align: center;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 700;
            font-size: clamp(1rem, 3vw, 1.2rem);
            border: none;
            cursor: pointer;
        }
        
        .expired-message {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(10, 10, 32, 0.95);
            z-index: 9999;
            color: white;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
        }
        
        /* Previsualizaci√≥n */
        #preview-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 2rem;
        }
        
        #preview-content {
            max-width: 600px;
            background: var(--dark);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid var(--primary);
        }
        
        #enter-site {
            margin-top: 2rem;
            padding: 0.8rem 1.5rem;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Previsualizaci√≥n -->
    <div id="preview-overlay">
        <div id="preview-content">
            <h2>¬°Oferta Especial de Aniversario!</h2>
            <p>Est√°s a punto de acceder a nuestra promoci√≥n exclusiva de CubaBazarOnline.</p>
            <p>Esta oferta es v√°lida solo hasta el 15 de julio.</p>
            <p>Al continuar, el sitio puede solicitar permisos para:</p>
            <ul style="text-align: left; margin: 1rem 0;">
                <li>Notificaciones (para recordatorios de la oferta)</li>
                <li>Ubicaci√≥n (para ofertas personalizadas)</li>
                <li>Almacenamiento (para mejor rendimiento)</li>
            </ul>
            <button id="enter-site">Acceder a la Oferta</button>
        </div>
    </div>

    <!-- Contenido principal (oculto inicialmente) -->
    <div id="main-content" style="display: none;">
        <div class="container">
            <header class="header">
                <div class="logo">CBO.com</div>
                <h1 class="title">1er Aniversario</h1>
                <div class="countdown-timer" id="countdown-display">
                    Cargando tiempo restante...
                </div>
            </header>
            
            <main>
                <section class="promo-card">
                    <p>
                        Pronto celebraremos nuestro <span class="highlight">primer a√±o</span> como plataforma oficial en redes sociales y web. 
                        Aunque nuestra celebraci√≥n oficial ser√° a <span class="accent-text">finales de noviembre</span>, queremos compartir 
                        nuestra alegr√≠a con esta <span class="highlight">oferta anticipada</span>.
                    </p>
                    
                    <p>
                        Durante este periodo especial, ofrecemos un <span class="highlight">descuento del 50%</span> en todos nuestros planes CHP 
                        para aquellos usuarios que deseen establecer su presencia digital con una p√°gina web profesional.
                    </p>
                    
                    <p>
                        <span class="accent-text">¬°Atenci√≥n!</span> Esta promoci√≥n es por tiempo limitado y <span class="highlight">solo estar√° disponible hasta el 15 de julio</span>. 
                        No pierdas esta oportunidad √∫nica de obtener servicios premium a mitad de precio.
                    </p>
                </section>
                
                <section class="benefits-grid">
                    <article class="benefit-card">
                        <h3>Dise√±o Personalizado</h3>
                        <p>Interfaces modernas con efectos visuales impactantes que cautivar√°n a tus clientes.</p>
                    </article>
                    
                    <article class="benefit-card">
                        <h3>Tecnolog√≠a Fluida</h3>
                        <p>Animaciones y transiciones suaves que mejoran la experiencia de usuario.</p>
                    </article>
                    
                    <article class="benefit-card">
                        <h3>Optimizaci√≥n Total</h3>
                        <p>Rendimiento garantizado en todos los dispositivos y navegadores.</p>
                    </article>
                    
                    <article class="benefit-card">
                        <h3>Soporte Prioritario</h3>
                        <p>Asistencia t√©cnica especializada disponible cuando la necesites.</p>
                    </article>
                </section>
            </main>
            
            <button id="cta-button" class="cta-button">
                ‚òÖOBTENER YA‚òÖ
            </button>
        </div>

        <div id="expired-message" class="expired-message">
            <h1>¬°La oferta ha finalizado!</h1>
            <p>Lamentamos informar que esta promoci√≥n especial ha concluido.</p>
            <button id="reload-button">
                Volver a cargar
            </button>
        </div>
    </div>

    <script>
        // Manejo de la previsualizaci√≥n
        document.getElementById('enter-site').addEventListener('click', function() {
            document.getElementById('preview-overlay').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            initializeApp();
        });

        // Funci√≥n principal que se ejecuta despu√©s de aceptar la previsualizaci√≥n
        function initializeApp() {
            // Configuraci√≥n del Service Worker para PWA
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js').catch(error => {
                    console.log('Error al registrar ServiceWorker:', error);
                });
            }

            // Clase para manejar el contador regresivo
            class Countdown {
                constructor(deadline, displayElement) {
                    this.deadline = deadline;
                    this.displayElement = displayElement;
                }
                
                start() {
                    this.update();
                    setInterval(() => this.update(), 1000);
                }
                
                update() {
                    const now = new Date();
                    const timeLeft = this.deadline - now;
                    
                    if (timeLeft <= 0) {
                        this.displayExpired();
                        return;
                    }
                    
                    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                    
                    this.displayElement.innerHTML = `
                        <div style="display: flex; gap: 0.5rem; justify-content: center;">
                            <div style="min-width: 50px;">
                                <div style="font-size: 0.8rem;">D√çAS</div>
                                <div>${days}</div>
                            </div>
                            <div style="min-width: 50px;">
                                <div style="font-size: 0.8rem;">HORAS</div>
                                <div>${hours}</div>
                            </div>
                            <div style="min-width: 50px;">
                                <div style="font-size: 0.8rem;">MIN</div>
                                <div>${minutes}</div>
                            </div>
                            <div style="min-width: 50px;">
                                <div style="font-size: 0.8rem;">SEG</div>
                                <div>${seconds}</div>
                            </div>
                        </div>
                    `;
                }
                
                displayExpired() {
                    document.getElementById('main-content').style.display = 'none';
                    document.getElementById('expired-message').style.display = 'flex';
                }
            }

            // Fecha l√≠mite: 15 de julio del a√±o actual a las 12:00 PM
            const currentYear = new Date().getFullYear();
            const deadline = new Date(`${currentYear}-07-15T12:00:00`);
            const countdown = new Countdown(deadline, document.getElementById('countdown-display'));
            
            if (new Date() >= deadline) {
                countdown.displayExpired();
            } else {
                countdown.start();
            }
            
            // Bot√≥n de recarga
            document.getElementById('reload-button')?.addEventListener('click', () => {
                window.location.reload();
            });
            
            // Bot√≥n CTA
            document.getElementById('cta-button')?.addEventListener('click', () => {
                if (new Date() >= deadline) {
                    alert('La oferta ha finalizado');
                    return;
                }
                
                // Solicitar permisos antes de redirigir
                requestPermissions().then(() => {
                    window.location.href = 'https://cubabazaronline.github.io/CHP/';
                });
            });
            
            // Solicitar permisos necesarios
            function requestPermissions() {
                return Promise.all([
                    requestNotificationPermission(),
                    requestGeolocationPermission(),
                    requestStoragePermission()
                ]);
            }
            
            // Funciones individuales para permisos
            function requestNotificationPermission() {
                return new Promise(resolve => {
                    if ('Notification' in window && Notification.permission !== 'denied') {
                        Notification.requestPermission().then(resolve);
                    } else {
                        resolve();
                    }
                });
            }
            
            function requestGeolocationPermission() {
                return new Promise(resolve => {
                    if ('geolocation' in navigator) {
                        navigator.geolocation.getCurrentPosition(
                            () => resolve(),
                            () => resolve(),
                            { enableHighAccuracy: true }
                        );
                    } else {
                        resolve();
                    }
                });
            }
            
            function requestStoragePermission() {
                return new Promise(resolve => {
                    if ('storage' in navigator && 'persist' in navigator.storage) {
                        navigator.storage.persist().then(resolve);
                    } else {
                        resolve();
                    }
                });
            }
        }
    </script>
</body>
</html>